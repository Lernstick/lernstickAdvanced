# stretch (64 Bit)
sudo pbuilder --login --basetgz /var/cache/pbuilder/base-stretch-bpo.tar.gz --bindmounts /home/lernstick_debian9/lernstick/backports/stretch

# stretch (32 Bit)
sudo pbuilder --login --architecture i386 --basetgz /var/cache/pbuilder/base-stretch32-bpo.tar.gz --bindmounts /home/lernstick_debian9/lernstick/backports/stretch

# jessie
#apt-get update; apt-get upgrade; apt-get -t jessie-backports --yes --force-yes install pbuilder; apt-get --yes --force-yes install sudo devscripts fakeroot; /usr/lib/pbuilder/pbuilder-satisfydepends --continue-fail; export DEB_BUILD_OPTIONS=noddebs

# stretch
apt update; apt --yes upgrade; apt --yes --allow-unauthenticated install devscripts fakeroot pbuilder sudo; /usr/lib/pbuilder/pbuilder-satisfydepends --continue-fail

dpkg-buildpackage -sa

# Bei multiarch-Paketen (z.B. wine) muss das Paket sowohl in der 32-Bit als auch in der 64-Bit Version gebaut werden.
# Bei der ersten Version vollständig bauen und mit dput hochladen.
# Bei der zweiten Version nur noch das Binärpaket bauen:
dpkg-buildpackage -b

special hints for wine-backports:
---------------------------------
first backport and upload 32 bit version
build 64 bit version
upload libwine_x.y.z-1~bpo9+1_amd64.deb, wine64_x.y.z-1~bpo9+1_amd64.deb to /tmp folder
reprepro includedeb lernstick-9-backports-staging /tmp/wine64_x.y.z-1~bpo9+1_amd64.deb
reprepro includedeb lernstick-9-backports-staging /tmp/libwine_x.y.z-1~bpo9+1_amd64.deb
(luckily, these packages are automatically included when calling "reprepro --restrict wine pull")


offizielle Backports testen:
Package: *
Pin: release a=stretch-backports
Pin-Priority: 999
